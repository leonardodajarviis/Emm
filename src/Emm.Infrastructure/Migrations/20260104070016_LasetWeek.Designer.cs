// <auto-generated />
using System;
using Emm.Infrastructure.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Metadata;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;

#nullable disable

namespace Emm.Infrastructure.Migrations
{
    [DbContext(typeof(XDbContext))]
    [Migration("20260104070016_LasetWeek")]
    partial class LasetWeek
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "9.0.7")
                .HasAnnotation("Relational:MaxIdentifierLength", 128);

            SqlServerModelBuilderExtensions.UseIdentityColumns(modelBuilder);

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.Asset", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("AssetAdditionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetCategoryCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("AssetCategoryId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetCategoryName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("AssetModelCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("AssetModelId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetModelName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("AssetTypeCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("AssetTypeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetTypeName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("bit");

                    b.Property<bool>("IsCodeGenerated")
                        .HasColumnType("bit");

                    b.Property<bool>("IsLooked")
                        .HasColumnType("bit");

                    b.Property<Guid>("LocationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("OrganizationUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Status")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("AssetAdditionId");

                    b.HasIndex("AssetModelId");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("DisplayName");

                    b.HasIndex("LocationId");

                    b.HasIndex("OrganizationUnitId");

                    b.ToTable("Assets", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetCategory", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsCodeGenerated")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetCategories_Code");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_AssetCategories_IsActive");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetCategories_Name");

                    b.ToTable("AssetCategories", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModel", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AssetCategoryId")
                        .HasMaxLength(50)
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AssetTypeId")
                        .HasMaxLength(50)
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsCodeGenerated")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("Notes")
                        .IsRequired()
                        .HasMaxLength(2000)
                        .HasColumnType("nvarchar(2000)");

                    b.Property<Guid?>("ParentId")
                        .HasMaxLength(50)
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("ThumbnailFileId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ThumbnailUrl")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("AssetCategoryId")
                        .HasDatabaseName("IX_AssetModels_AssetCategoryId");

                    b.HasIndex("AssetTypeId")
                        .HasDatabaseName("IX_AssetModels_AssetTypeId");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetModels_Code");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_AssetModels_IsActive");

                    b.HasIndex("Name")
                        .HasDatabaseName("IX_AssetModels_Name");

                    b.HasIndex("ParentId")
                        .HasDatabaseName("IX_AssetModels_ParentId");

                    b.ToTable("AssetModels", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModelImage", b =>
                {
                    b.Property<Guid>("AssetModelId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("FileId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("AssetModelId", "FileId");

                    b.HasIndex("FileId")
                        .IsUnique();

                    b.ToTable("AssetModelImages", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModelParameter", b =>
                {
                    b.Property<Guid>("AssetModelId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ParameterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsMaintenanceParameter")
                        .HasColumnType("bit");

                    b.HasKey("AssetModelId", "ParameterId");

                    b.HasIndex("ParameterId");

                    b.ToTable("AssetModelParameters", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetParameter", b =>
                {
                    b.Property<Guid>("AssetId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ParameterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("CurrentValue")
                        .HasColumnType("decimal(18,2)");

                    b.Property<bool>("IsMaintenanceParameter")
                        .HasColumnType("bit");

                    b.Property<string>("ParameterCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ParameterName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("ParameterUnit")
                        .HasColumnType("nvarchar(max)");

                    b.Property<decimal>("ValueToMaintenance")
                        .HasColumnType("decimal(18,2)");

                    b.HasKey("AssetId", "ParameterId");

                    b.HasIndex("ParameterId");

                    b.ToTable("AssetParameters", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetType", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AssetCategoryId")
                        .HasMaxLength(50)
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsCodeGenerated")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("Id");

                    b.HasIndex("AssetCategoryId")
                        .HasDatabaseName("IX_AssetTypes_AssetCategoryId");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetTypes_Code");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_AssetTypes_IsActive");

                    b.HasIndex("Name", "AssetCategoryId")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetTypes_Name_AssetCategoryId");

                    b.ToTable("AssetTypes", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetTypeParameter", b =>
                {
                    b.Property<Guid>("AssetTypeId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ParameterId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("AssetTypeId", "ParameterId");

                    b.HasIndex("ParameterId");

                    b.ToTable("AssetTypeParameters", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanDefinition", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AssetModelId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Description")
                        .HasColumnType("nvarchar(max)");

                    b.Property<bool>("IsActive")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int>("PlanType")
                        .HasColumnType("int");

                    b.Property<string>("RRule")
                        .HasColumnType("nvarchar(max)");

                    b.HasKey("Id");

                    b.HasIndex("AssetModelId", "IsActive", "PlanType")
                        .HasDatabaseName("IX_MaintenancePlanDefinitions_AssetModelId_IsActive_PlanType");

                    b.ToTable("MaintenancePlanDefinitions", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanJobStepDefinition", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("MaintenancePlanDefinitionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Note")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<int>("Order")
                        .HasColumnType("int");

                    b.Property<Guid?>("OrganizationUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("OrganizationUnitId");

                    b.HasIndex("MaintenancePlanDefinitionId", "Order")
                        .HasDatabaseName("IX_MaintenancePlanJobStepDefinitions_MaintenancePlanDefinitionId_Order");

                    b.ToTable("MaintenancePlanJobStepDefinitions", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanRequiredItem", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsRequired")
                        .HasColumnType("bit");

                    b.Property<Guid>("ItemGroupId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ItemId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("MaintenancePlanDefinitionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Note")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<decimal>("Quantity")
                        .HasPrecision(18, 2)
                        .HasColumnType("decimal(18,2)");

                    b.Property<Guid>("UnitOfMeasureId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ItemGroupId");

                    b.HasIndex("ItemId")
                        .HasDatabaseName("IX_MaintenancePlanRequiredItems_ItemId");

                    b.HasIndex("MaintenancePlanDefinitionId")
                        .HasDatabaseName("IX_MaintenancePlanRequiredItems_MaintenancePlanDefinitionId");

                    b.HasIndex("UnitOfMeasureId");

                    b.ToTable("MaintenancePlanRequiredItems", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.ParameterBasedMaintenanceTrigger", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<Guid>("MaintenancePlanDefinitionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<decimal>("MaxValue")
                        .HasColumnType("decimal(18,4)");

                    b.Property<decimal>("MinValue")
                        .HasColumnType("decimal(18,4)");

                    b.Property<Guid>("ParameterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("TriggerCondition")
                        .HasColumnType("int");

                    b.Property<decimal>("TriggerValue")
                        .HasColumnType("decimal(18,4)");

                    b.HasKey("Id");

                    b.HasIndex("IsActive");

                    b.HasIndex("MaintenancePlanDefinitionId")
                        .IsUnique();

                    b.HasIndex("ParameterId");

                    b.HasIndex("TriggerCondition");

                    b.HasIndex("ParameterId", "IsActive");

                    b.HasIndex("MaintenancePlanDefinitionId", "ParameterId", "IsActive");

                    b.ToTable("ParameterBasedMaintenanceTriggers", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetTransaction.AssetAddition", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime?>("DecisionDate")
                        .HasColumnType("datetime2");

                    b.Property<string>("DecisionNumber")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<Guid>("LocationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("OrganizationUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Reason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetAdditions_Code");

                    b.HasIndex("LocationId")
                        .HasDatabaseName("IX_AssetAdditions_LocationId");

                    b.HasIndex("OrganizationUnitId")
                        .HasDatabaseName("IX_AssetAdditions_OrganizationUnitId");

                    b.ToTable("AssetAdditions", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetTransaction.AssetAdditionLine", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AssetAdditionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("AssetDisplayName")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("AssetModelId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsCodeGenerated")
                        .HasColumnType("bit");

                    b.Property<decimal>("UnitPrice")
                        .HasColumnType("decimal(18,2)");

                    b.HasKey("Id");

                    b.HasIndex("AssetAdditionId")
                        .HasDatabaseName("IX_AssetAdditionLines_AssetAdditionId");

                    b.HasIndex("AssetCode")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetAdditionLines_AssetCode");

                    b.HasIndex("AssetModelId")
                        .HasDatabaseName("IX_AssetAdditionLines_AssetModelId");

                    b.HasIndex("AssetAdditionId", "AssetCode")
                        .IsUnique()
                        .HasDatabaseName("IX_AssetAdditionLines_AssetAdditionId_AssetCode");

                    b.ToTable("AssetAdditionLines", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Permission", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Action")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Category")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(150)
                        .HasColumnType("nvarchar(150)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("Resource")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("Id");

                    b.HasIndex("Category");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("Resource");

                    b.ToTable("Permissions", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Policy", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Action")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("ConditionsJson")
                        .IsRequired()
                        .ValueGeneratedOnAdd()
                        .HasColumnType("nvarchar(max)")
                        .HasDefaultValue("{}");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<int>("Priority")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<string>("ResourceType")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<int>("Type")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("ResourceType");

                    b.HasIndex("IsActive", "Priority");

                    b.ToTable("Policies", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Role", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<bool>("IsSystemRole")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("IsActive");

                    b.ToTable("Roles", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.RolePermission", b =>
                {
                    b.Property<Guid>("RoleId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PermissionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("GrantedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("RoleId", "PermissionId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("RoleId");

                    b.ToTable("RolePermissions", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.UserPermission", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PermissionId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("AssignedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("AssignedBy")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsGranted")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Reason")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.HasKey("UserId", "PermissionId");

                    b.HasIndex("PermissionId");

                    b.HasIndex("UserId");

                    b.ToTable("UserPermissions", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.UserRole", b =>
                {
                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("RoleId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("AssignedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<Guid?>("AssignedBy")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("UserId", "RoleId");

                    b.HasIndex("RoleId");

                    b.HasIndex("UserId");

                    b.ToTable("UserRoles", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Inventory.Item", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("GroupId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<Guid>("UnitOfMeasureId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("GroupId");

                    b.HasIndex("UnitOfMeasureId");

                    b.ToTable("Items", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Inventory.ItemGroup", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_ItemGroups_Code");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("IX_ItemGroups_Name");

                    b.ToTable("ItemGroups", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Maintenance.IncidentReport", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("AssetId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<int>("Priority")
                        .HasColumnType("int");

                    b.Property<DateTime>("ReportedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("ResolutionNotes")
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ResolvedAt")
                        .HasColumnType("datetime2");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.Property<string>("Title")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.HasKey("Id");

                    b.HasIndex("AssetId");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.ToTable("IncidentReports", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShift", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("ActualEndTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime?>("ActualStartTime")
                        .HasColumnType("datetime2");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsCheckpointLogEnabled")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("OrganizationUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("PrimaryUserId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("ScheduledEndTime")
                        .HasColumnType("datetime2");

                    b.Property<DateTime>("ScheduledStartTime")
                        .HasColumnType("datetime2");

                    b.Property<int>("Status")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("OrganizationUnitId");

                    b.HasIndex("PrimaryUserId");

                    b.HasIndex("ScheduledStartTime");

                    b.HasIndex("Status");

                    b.ToTable("OperationShifts", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShiftAsset", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("AssetBoxId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("AssetId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime?>("CompletedAt")
                        .HasColumnType("datetime2");

                    b.Property<bool>("IsPrimary")
                        .HasColumnType("bit");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("OperationShiftId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("StartedAt")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("AssetBoxId");

                    b.HasIndex("AssetCode");

                    b.HasIndex("AssetId");

                    b.HasIndex("OperationShiftId");

                    b.HasIndex("OperationShiftId", "AssetId")
                        .IsUnique();

                    b.ToTable("OperationShiftAssets", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShiftAssetBox", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("BoxName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int>("DisplayOrder")
                        .HasColumnType("int");

                    b.Property<Guid>("OperationShiftId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Role")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("OperationShiftId");

                    b.HasIndex("Role");

                    b.HasIndex("OperationShiftId", "BoxName")
                        .IsUnique()
                        .HasDatabaseName("IX_OperationShiftAssetBoxes_OperationShiftId_BoxName_Unique");

                    b.HasIndex("OperationShiftId", "DisplayOrder");

                    b.ToTable("OperationShiftAssetBoxes", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLog", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("AssetId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("BoxId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<DateTime?>("EndTime")
                        .HasColumnType("datetime2");

                    b.Property<int>("LogOrder")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<Guid>("OperationShiftId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime?>("StartTime")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("AssetId");

                    b.HasIndex("BoxId");

                    b.HasIndex("OperationShiftId");

                    b.ToTable("ShiftLogs", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogCheckpoint", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<bool>("IsWithAttachedMaterial")
                        .HasColumnType("bit");

                    b.Property<string>("ItemCode")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid?>("ItemId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ItemName")
                        .HasColumnType("nvarchar(max)");

                    b.Property<Guid>("LinkedId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("LocationId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("LocationName")
                        .IsRequired()
                        .HasMaxLength(1200)
                        .HasColumnType("nvarchar(1200)");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<Guid>("ShiftLogId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("ShiftLogId");

                    b.ToTable("ShiftLogCheckpoints", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogEvent", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<TimeSpan?>("Duration")
                        .HasColumnType("time");

                    b.Property<DateTime?>("EndTime")
                        .HasColumnType("datetime2");

                    b.Property<int>("EventType")
                        .HasColumnType("int");

                    b.Property<Guid>("ShiftLogId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("StartTime")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("EventType");

                    b.HasIndex("ShiftLogId");

                    b.HasIndex("StartTime");

                    b.HasIndex("ShiftLogId", "EventType");

                    b.ToTable("ShiftLogEvents", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogItem", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetCode")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<Guid?>("AssetId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetName")
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<Guid>("ItemId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ItemName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<decimal>("Quantity")
                        .HasPrecision(18, 4)
                        .HasColumnType("decimal(18,4)");

                    b.Property<Guid>("ShiftLogId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("UnitOfMeasureId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("UnitOfMeasureName")
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.HasKey("Id");

                    b.HasIndex("ItemId");

                    b.HasIndex("ShiftLogId");

                    b.ToTable("ShiftLogItems", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogParameterReading", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("AssetId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("AssetName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<bool>("IsLooked")
                        .HasColumnType("bit");

                    b.Property<string>("Notes")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<string>("ParameterCode")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<Guid>("ParameterId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ParameterName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("ReadingTime")
                        .HasColumnType("datetime2");

                    b.Property<Guid?>("ShiftLogCheckpointLinkedId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid>("ShiftLogId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("StringValue")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<string>("Unit")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<decimal>("Value")
                        .HasColumnType("decimal(18,6)");

                    b.HasKey("Id");

                    b.HasIndex("AssetId");

                    b.HasIndex("ParameterCode");

                    b.HasIndex("ParameterId");

                    b.HasIndex("ReadingTime");

                    b.HasIndex("ShiftLogId");

                    b.HasIndex("ShiftLogId", "AssetId");

                    b.HasIndex("AssetId", "ParameterId", "ReadingTime");

                    b.ToTable("ShiftLogParameterReadings", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Organization.Location", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<Guid>("OrganizationUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_Locations_Code");

                    b.ToTable("Locations", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Organization.OrganizationUnit", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<Guid>("OrganizationUnitLevelId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("ParentId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique()
                        .HasDatabaseName("IX_OrganizationUnits_Code");

                    b.HasIndex("IsActive")
                        .HasDatabaseName("IX_OrganizationUnits_IsActive");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("IX_OrganizationUnits_Name");

                    b.HasIndex("OrganizationUnitLevelId");

                    b.ToTable("OrganizationUnits", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.Organization.OrganizationUnitLevel", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("Description")
                        .HasMaxLength(1000)
                        .HasColumnType("nvarchar(1000)");

                    b.Property<int>("Level")
                        .HasColumnType("int");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("nvarchar(200)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("Id");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("IX_OrganizationUnitLevels_Name");

                    b.ToTable("OrganizationUnitLevels", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.ParameterCatalog", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsCodeGenerated")
                        .HasColumnType("bit");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<Guid>("UnitOfMeasureId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("UnitOfMeasureId");

                    b.ToTable("ParameterCatalogs", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.UnitOfMeasure", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<Guid?>("BaseUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("Code")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<decimal?>("ConversionFactor")
                        .HasPrecision(18, 6)
                        .HasColumnType("decimal(18,6)");

                    b.Property<string>("Description")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Symbol")
                        .IsRequired()
                        .HasMaxLength(20)
                        .HasColumnType("nvarchar(20)");

                    b.Property<int>("UnitType")
                        .HasColumnType("int");

                    b.HasKey("Id");

                    b.HasIndex("BaseUnitId");

                    b.HasIndex("Code")
                        .IsUnique();

                    b.HasIndex("Symbol");

                    b.HasIndex("UnitType");

                    b.HasIndex("IsActive", "UnitType");

                    b.ToTable("UnitOfMeasures", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.UploadedFile", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("ContentType")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("FilePath")
                        .IsRequired()
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<long>("FileSize")
                        .HasColumnType("bigint");

                    b.Property<bool>("IsUsed")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(false);

                    b.Property<string>("OriginalFileName")
                        .IsRequired()
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<string>("Subfolder")
                        .HasMaxLength(255)
                        .HasColumnType("nvarchar(255)");

                    b.Property<DateTime>("UploadedAt")
                        .HasColumnType("datetime2");

                    b.HasKey("Id");

                    b.HasIndex("Subfolder");

                    b.HasIndex("UploadedAt");

                    b.ToTable("UploadedFiles", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.User", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("DisplayName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<bool>("IsActive")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bit")
                        .HasDefaultValue(true);

                    b.Property<Guid?>("OrganizationUnitId")
                        .HasColumnType("uniqueidentifier");

                    b.Property<string>("PasswordHash")
                        .IsRequired()
                        .HasMaxLength(256)
                        .HasColumnType("nvarchar(256)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("Username")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.HasKey("Id");

                    b.HasIndex("Email")
                        .IsUnique();

                    b.HasIndex("Username")
                        .IsUnique();

                    b.ToTable("Users", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.UserSession", b =>
                {
                    b.Property<Guid>("Id")
                        .HasColumnType("uniqueidentifier");

                    b.Property<DateTime>("AccessTokenExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("AccessTokenJti")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<string>("IpAddress")
                        .HasMaxLength(50)
                        .HasColumnType("nvarchar(50)");

                    b.Property<DateTime>("RefreshTokenExpiresAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("RefreshTokenJti")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("nvarchar(100)");

                    b.Property<DateTime?>("RevokedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("UserAgent")
                        .HasMaxLength(500)
                        .HasColumnType("nvarchar(500)");

                    b.Property<Guid>("UserId")
                        .HasColumnType("uniqueidentifier");

                    b.HasKey("Id");

                    b.HasIndex("AccessTokenJti")
                        .HasDatabaseName("IX_UserSessions_AccessTokenJti");

                    b.HasIndex("RefreshTokenJti")
                        .HasDatabaseName("IX_UserSessions_RefreshTokenJti");

                    b.HasIndex("UserId", "RevokedAt")
                        .HasDatabaseName("IX_UserSessions_UserId_RevokedAt");

                    b.ToTable("UserSessions", (string)null);
                });

            modelBuilder.Entity("Emm.Infrastructure.Data.SequenceNumber", b =>
                {
                    b.Property<int>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int");

                    SqlServerPropertyBuilderExtensions.UseIdentityColumn(b.Property<int>("Id"));

                    b.Property<DateTime>("CreatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.Property<long>("CurrentNumber")
                        .HasColumnType("bigint");

                    b.Property<int>("NumberLength")
                        .HasColumnType("int");

                    b.Property<string>("Prefix")
                        .IsRequired()
                        .HasMaxLength(64)
                        .HasColumnType("nvarchar(64)");

                    b.Property<string>("TableName")
                        .IsRequired()
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)");

                    b.Property<DateTime>("UpdatedAt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("datetime2")
                        .HasDefaultValueSql("GETUTCDATE()");

                    b.HasKey("Id");

                    b.HasIndex("Prefix", "TableName", "NumberLength")
                        .IsUnique()
                        .HasDatabaseName("UX_SequenceNumbers_Prefix_Table_NumberLength");

                    b.ToTable("SequenceNumbers", (string)null);
                });

            modelBuilder.Entity("Emm.Infrastructure.Messaging.OutboxMessage", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uniqueidentifier");

                    b.Property<int>("Attempt")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("int")
                        .HasDefaultValue(0);

                    b.Property<DateTime>("CreatedAt")
                        .HasColumnType("datetime2");

                    b.Property<string>("Error")
                        .HasColumnType("nvarchar(max)");

                    b.Property<string>("LockId")
                        .HasMaxLength(128)
                        .HasColumnType("nvarchar(128)");

                    b.Property<DateTime?>("LockedUntil")
                        .HasColumnType("datetime2");

                    b.Property<string>("Payload")
                        .IsRequired()
                        .HasColumnType("nvarchar(max)");

                    b.Property<DateTime?>("ProcessedAt")
                        .HasColumnType("datetime2");

                    b.Property<byte[]>("RowVersion")
                        .IsConcurrencyToken()
                        .IsRequired()
                        .ValueGeneratedOnAddOrUpdate()
                        .HasColumnType("rowversion");

                    b.Property<string>("Type")
                        .IsRequired()
                        .HasMaxLength(512)
                        .HasColumnType("nvarchar(512)");

                    b.HasKey("Id");

                    b.HasIndex("CreatedAt")
                        .HasDatabaseName("IX_OutboxMessages_CreatedAt");

                    b.HasIndex("LockId")
                        .HasDatabaseName("IX_OutboxMessages_LockId");

                    b.HasIndex("ProcessedAt", "LockedUntil", "CreatedAt")
                        .HasDatabaseName("IX_OutboxMessages_Processing");

                    b.ToTable("OutboxMessages", (string)null);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.Asset", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetTransaction.AssetAddition", null)
                        .WithMany()
                        .HasForeignKey("AssetAdditionId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetModel", null)
                        .WithMany()
                        .HasForeignKey("AssetModelId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.Organization.Location", null)
                        .WithMany()
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.Organization.OrganizationUnit", null)
                        .WithMany()
                        .HasForeignKey("OrganizationUnitId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("AssetId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("AssetId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("Assets");

                            b1.WithOwner()
                                .HasForeignKey("AssetId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetCategory", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("AssetCategoryId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("AssetCategoryId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("AssetCategories");

                            b1.WithOwner()
                                .HasForeignKey("AssetCategoryId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModel", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetCategory", null)
                        .WithMany()
                        .HasForeignKey("AssetCategoryId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetType", null)
                        .WithMany()
                        .HasForeignKey("AssetTypeId")
                        .OnDelete(DeleteBehavior.SetNull)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetModel", null)
                        .WithMany()
                        .HasForeignKey("ParentId")
                        .OnDelete(DeleteBehavior.NoAction);

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("AssetModelId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("AssetModelId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("AssetModels");

                            b1.WithOwner()
                                .HasForeignKey("AssetModelId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModelImage", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetModel", null)
                        .WithMany("Images")
                        .HasForeignKey("AssetModelId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModelParameter", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetModel", null)
                        .WithMany("Parameters")
                        .HasForeignKey("AssetModelId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.ParameterCatalog", null)
                        .WithMany()
                        .HasForeignKey("ParameterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetParameter", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.Asset", null)
                        .WithMany("Parameters")
                        .HasForeignKey("AssetId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.ParameterCatalog", null)
                        .WithMany()
                        .HasForeignKey("ParameterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetType", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetCategory", null)
                        .WithMany()
                        .HasForeignKey("AssetCategoryId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("AssetTypeId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("AssetTypeId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("AssetTypes");

                            b1.WithOwner()
                                .HasForeignKey("AssetTypeId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetTypeParameter", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetType", null)
                        .WithMany("_parameters")
                        .HasForeignKey("AssetTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.ParameterCatalog", null)
                        .WithMany()
                        .HasForeignKey("ParameterId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanDefinition", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetModel", null)
                        .WithMany("MaintenancePlanDefinitions")
                        .HasForeignKey("AssetModelId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("MaintenancePlanDefinitionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("MaintenancePlanDefinitionId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("MaintenancePlanDefinitions");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.WithOwner()
                                .HasForeignKey("MaintenancePlanDefinitionId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanJobStepDefinition", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.MaintenancePlanDefinition", null)
                        .WithMany("JobSteps")
                        .HasForeignKey("MaintenancePlanDefinitionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.Organization.OrganizationUnit", null)
                        .WithMany()
                        .HasForeignKey("OrganizationUnitId")
                        .OnDelete(DeleteBehavior.NoAction);
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanRequiredItem", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Inventory.ItemGroup", null)
                        .WithMany()
                        .HasForeignKey("ItemGroupId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.Inventory.Item", null)
                        .WithMany()
                        .HasForeignKey("ItemId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.AssetCatalog.MaintenancePlanDefinition", null)
                        .WithMany("RequiredItems")
                        .HasForeignKey("MaintenancePlanDefinitionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.UnitOfMeasure", null)
                        .WithMany()
                        .HasForeignKey("UnitOfMeasureId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.ParameterBasedMaintenanceTrigger", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.MaintenancePlanDefinition", null)
                        .WithOne("ParameterBasedTrigger")
                        .HasForeignKey("Emm.Domain.Entities.AssetCatalog.ParameterBasedMaintenanceTrigger", "MaintenancePlanDefinitionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetTransaction.AssetAddition", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Organization.Location", null)
                        .WithMany()
                        .HasForeignKey("LocationId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.Organization.OrganizationUnit", null)
                        .WithMany()
                        .HasForeignKey("OrganizationUnitId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("AssetAdditionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("AssetAdditionId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("AssetAdditions");

                            b1.WithOwner()
                                .HasForeignKey("AssetAdditionId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetTransaction.AssetAdditionLine", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetTransaction.AssetAddition", "AssetAddition")
                        .WithMany("_assetAdditionLines")
                        .HasForeignKey("AssetAdditionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.AssetCatalog.AssetModel", null)
                        .WithMany()
                        .HasForeignKey("AssetModelId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.Navigation("AssetAddition");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Permission", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("PermissionId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("PermissionId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("Permissions");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);

                            b1.WithOwner()
                                .HasForeignKey("PermissionId");
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Policy", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("PolicyId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("PolicyId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("Policies");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);

                            b1.WithOwner()
                                .HasForeignKey("PolicyId");
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Role", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("RoleId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier");

                            b1.HasKey("RoleId");

                            b1.ToTable("Roles");

                            b1.WithOwner()
                                .HasForeignKey("RoleId");
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.RolePermission", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Authorization.Permission", "Permission")
                        .WithMany("RolePermissions")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.Authorization.Role", "Role")
                        .WithMany("RolePermissions")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Permission");

                    b.Navigation("Role");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.UserPermission", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Authorization.Permission", "Permission")
                        .WithMany("UserPermissions")
                        .HasForeignKey("PermissionId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Permission");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.UserRole", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Authorization.Role", "Role")
                        .WithMany("UserRoles")
                        .HasForeignKey("RoleId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("Role");

                    b.Navigation("User");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Inventory.Item", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Inventory.ItemGroup", null)
                        .WithMany()
                        .HasForeignKey("GroupId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.HasOne("Emm.Domain.Entities.UnitOfMeasure", null)
                        .WithMany()
                        .HasForeignKey("UnitOfMeasureId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("ItemId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("ItemId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("Items");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.WithOwner()
                                .HasForeignKey("ItemId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Inventory.ItemGroup", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("ItemGroupId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("ItemGroupId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("ItemGroups");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.WithOwner()
                                .HasForeignKey("ItemGroupId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Maintenance.IncidentReport", b =>
                {
                    b.HasOne("Emm.Domain.Entities.AssetCatalog.Asset", null)
                        .WithMany()
                        .HasForeignKey("AssetId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("IncidentReportId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("IncidentReportId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("IncidentReports");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.WithOwner()
                                .HasForeignKey("IncidentReportId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShift", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("OperationShiftId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("OperationShiftId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("OperationShifts");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);

                            b1.WithOwner()
                                .HasForeignKey("OperationShiftId");
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShiftAsset", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Operations.OperationShift", null)
                        .WithMany("Assets")
                        .HasForeignKey("OperationShiftId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShiftAssetBox", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Operations.OperationShift", null)
                        .WithMany("AssetBoxes")
                        .HasForeignKey("OperationShiftId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLog", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("ShiftLogId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("ShiftLogId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("ShiftLogs");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);

                            b1.WithOwner()
                                .HasForeignKey("ShiftLogId");
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogCheckpoint", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Operations.ShiftLog", null)
                        .WithMany("Checkpoints")
                        .HasForeignKey("ShiftLogId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogEvent", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Operations.ShiftLog", null)
                        .WithMany("Events")
                        .HasForeignKey("ShiftLogId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogItem", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Operations.ShiftLog", null)
                        .WithMany("Items")
                        .HasForeignKey("ShiftLogId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLogParameterReading", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Operations.ShiftLog", null)
                        .WithMany("Readings")
                        .HasForeignKey("ShiftLogId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Organization.Location", b =>
                {
                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("LocationId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("LocationId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("Locations");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.WithOwner()
                                .HasForeignKey("LocationId");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.Organization.OrganizationUnit", b =>
                {
                    b.HasOne("Emm.Domain.Entities.Organization.OrganizationUnitLevel", null)
                        .WithMany()
                        .HasForeignKey("OrganizationUnitLevelId")
                        .OnDelete(DeleteBehavior.NoAction)
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.ParameterCatalog", b =>
                {
                    b.HasOne("Emm.Domain.Entities.UnitOfMeasure", null)
                        .WithMany()
                        .HasForeignKey("UnitOfMeasureId")
                        .OnDelete(DeleteBehavior.Restrict)
                        .IsRequired();

                    b.OwnsOne("Emm.Domain.ValueObjects.AuditMetadata", "Audit", b1 =>
                        {
                            b1.Property<Guid>("ParameterCatalogId")
                                .HasColumnType("uniqueidentifier");

                            b1.Property<DateTime>("CreatedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("CreatedAt");

                            b1.Property<Guid>("CreatedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("CreatedByUserId");

                            b1.Property<DateTime?>("ModifiedAt")
                                .HasColumnType("datetime2")
                                .HasColumnName("ModifiedAt");

                            b1.Property<Guid?>("ModifiedByUserId")
                                .HasColumnType("uniqueidentifier")
                                .HasColumnName("ModifiedByUserId");

                            b1.HasKey("ParameterCatalogId");

                            b1.HasIndex("CreatedByUserId");

                            b1.HasIndex("ModifiedByUserId");

                            b1.ToTable("ParameterCatalogs");

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("CreatedByUserId")
                                .OnDelete(DeleteBehavior.Restrict)
                                .IsRequired();

                            b1.HasOne("Emm.Domain.Entities.User", null)
                                .WithMany()
                                .HasForeignKey("ModifiedByUserId")
                                .OnDelete(DeleteBehavior.Restrict);

                            b1.WithOwner()
                                .HasForeignKey("ParameterCatalogId");
                        });

                    b.Navigation("Audit")
                        .IsRequired();
                });

            modelBuilder.Entity("Emm.Domain.Entities.UnitOfMeasure", b =>
                {
                    b.HasOne("Emm.Domain.Entities.UnitOfMeasure", null)
                        .WithMany("DerivedUnits")
                        .HasForeignKey("BaseUnitId")
                        .OnDelete(DeleteBehavior.NoAction);
                });

            modelBuilder.Entity("Emm.Domain.Entities.UserSession", b =>
                {
                    b.HasOne("Emm.Domain.Entities.User", "User")
                        .WithMany()
                        .HasForeignKey("UserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired();

                    b.Navigation("User");
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.Asset", b =>
                {
                    b.Navigation("Parameters");
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetModel", b =>
                {
                    b.Navigation("Images");

                    b.Navigation("MaintenancePlanDefinitions");

                    b.Navigation("Parameters");
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.AssetType", b =>
                {
                    b.Navigation("_parameters");
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetCatalog.MaintenancePlanDefinition", b =>
                {
                    b.Navigation("JobSteps");

                    b.Navigation("ParameterBasedTrigger");

                    b.Navigation("RequiredItems");
                });

            modelBuilder.Entity("Emm.Domain.Entities.AssetTransaction.AssetAddition", b =>
                {
                    b.Navigation("_assetAdditionLines");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Permission", b =>
                {
                    b.Navigation("RolePermissions");

                    b.Navigation("UserPermissions");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Authorization.Role", b =>
                {
                    b.Navigation("RolePermissions");

                    b.Navigation("UserRoles");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.OperationShift", b =>
                {
                    b.Navigation("AssetBoxes");

                    b.Navigation("Assets");
                });

            modelBuilder.Entity("Emm.Domain.Entities.Operations.ShiftLog", b =>
                {
                    b.Navigation("Checkpoints");

                    b.Navigation("Events");

                    b.Navigation("Items");

                    b.Navigation("Readings");
                });

            modelBuilder.Entity("Emm.Domain.Entities.UnitOfMeasure", b =>
                {
                    b.Navigation("DerivedUnits");
                });
#pragma warning restore 612, 618
        }
    }
}
